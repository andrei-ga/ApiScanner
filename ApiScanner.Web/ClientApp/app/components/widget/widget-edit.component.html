<div class="container">
    <div class="row form-group">
        <div class="col-12">
            <h4>{{ 'WidgetDetails' | translate }}</h4>
            <div class="row">
                <div class="col-12">
                    <mat-form-field class="full-width">
                        <input matInput placeholder="{{ 'Name' | translate }}" maxlength="50" required [(ngModel)]="widget.name">
                    </mat-form-field>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <mat-radio-group [(ngModel)]="widget.locationId">
                        <mat-radio-button class="m-right-10" *ngFor="let location of locations" [value]="location.locationId">
                            {{ location.name }}
                        </mat-radio-button>
                    </mat-radio-group>
                </div>
            </div>
            
            <div class="row" *ngIf="apisLoaded && widgetLoaded">
                <div class="col-12">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="{{ 'IncludedApis' | translate }}" [(ngModel)]="includedApiIds" multiple>
                            <mat-option *ngFor="let api of apis" [value]="api.apiId">{{ api.name }}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <mat-checkbox [(ngModel)]="widget.publicRead">{{ 'AnyoneCanSee' | translate }}</mat-checkbox>
                </div>
            </div>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-12">
            <button *ngIf="!widget.widgetId" mat-raised-button color="primary" (click)="createWidget()" [disabled]="processing">{{ 'CreateWidget' | translate }}</button>
            <button *ngIf="canEditWidget()" mat-raised-button color="primary" (click)="updateWidget()" [disabled]="processing">{{ 'UpdateWidget' | translate }}</button>
            <button *ngIf="canEditWidget()" mat-raised-button color="warn" class="float-right" (click)="deleteWidget()" [disabled]="processing">{{ 'DeleteWidget' | translate }}</button>
        </div>
    </div>
</div>